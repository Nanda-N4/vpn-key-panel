<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title><%= panelConfig.brandName %></title>
  <link rel="stylesheet" href="/public/style.css"/>
</head>
<body>
  <div class="bg"></div>

  <header class="topbar">
    <a class="brand" href="/">
      <span class="brandMark">⚡</span>
      <span class="brandText"><%= panelConfig.brandName %></span>
    </a>

    <a class="tinyLink" href="<%= panelConfig.telegramChannelUrl %>" target="_blank" rel="noopener">
      <span class="tgDot">TG</span> Channel
    </a>
  </header>

  <main class="wrap">

    <section class="hero card">
      <div class="heroLeft">
        <h1 class="h1">Welcome 👋</h1>

        <p class="sub"><%= panelConfig.announcement %></p>

        <div class="steps">
          <div class="step"><b>1)</b> အောက်က Key Card ကိုနှိပ်ပါ</div>
          <div class="step"><b>2)</b> Copy ကိုနှိပ်ပါ</div>
          <div class="step"><b>3)</b> သုံးမယ့် App ကို Download လုပ်ပါ</div>
          <div class="step"><b>4)</b> App ထဲ Paste → Connect</div>
        </div>

        <div class="btnRow">
          <a class="btn btnPrimary" href="<%= panelConfig.telegramAdminUrl %>" target="_blank" rel="noopener">
            <span class="tgDot">TG</span> <%= panelConfig.telegramAdminText %>
          </a>
          <a class="btn btnGhost" href="<%= panelConfig.telegramChannelUrl %>" target="_blank" rel="noopener">
            <%= panelConfig.telegramChannelText %>
          </a>
        </div>
      </div>

      <div class="heroRight">
        <div class="hud">
          <div class="hudTitle">Help / Payment / Support</div>
          <div class="hudSub">
            Key မရတာ၊ App ထည့်နည်း၊ ဝယ်ယူချင်တာတွေကို Telegram မှာ ဆက်သွယ်ပါ။
          </div>
        </div>
      </div>
    </section>

    <section class="keysGrid">
      <% if (!rows || rows.length === 0) { %>
        <div class="card empty">
          <div class="emptyTitle">No keys found</div>
          <div class="emptySub">Admin က Key ထည့်ပြီးမှ ပေါ်လာပါမယ်</div>
        </div>
      <% } else { %>
        <% rows.forEach(r => { %>
          <a class="keyCard" href="/k/<%= r.id %>">
            <div class="keyTop">
              <div class="keyType"><%= r.key_type %></div>
              <div class="badge <%= r.status === 'ACTIVE' ? 'ok' : 'bad' %>"><%= r.status %></div>
            </div>
            <div class="keyRegion"><%= r.region_flag %> <%= r.region_name %></div>
            <div class="keyMeta">
              <span>GB <b><%= r.gb_limit %></b></span>
              <span class="dot">•</span>
              <span><b><%= r.expire_date %></b></span>
            </div>
          </a>
        <% }) %>
      <% } %>
    </section>

    <footer class="footer">
      <span>© <%= new Date().getFullYear() %> <%= panelConfig.brandName %></span>
      <span class="dot">•</span>
      <a href="<%= panelConfig.telegramChannelUrl %>" target="_blank" rel="noopener">
        <%= panelConfig.telegramChannelText %>
      </a>
    </footer>

  </main>
</body>
</html>
