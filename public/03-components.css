.card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(14px);
  padding: 18px;
  margin-bottom: 16px;
}

.card-soft{
  background: rgba(255,255,255,.62);
  border: 1px solid var(--stroke);
  border-radius: var(--radius-sm);
  padding: 14px;
}

.muted{ color: var(--muted); }

.btn{
  appearance:none;
  border: 1px solid var(--stroke-strong);
  background: rgba(255,255,255,.72);
  color: var(--text);
  padding: 10px 14px;
  font-weight: 650;
  border-radius: 14px;
  box-shadow: 0 10px 22px rgba(2,6,23,.08);
  cursor: pointer;
}
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn:focus{ outline: 3px solid var(--focus); outline-offset: 2px; }

.btn-pill{ border-radius: 999px; }
.btn-ghost{ background: rgba(255,255,255,.55); }

.btn-primary{
  border-color: rgba(14,165,233,.35);
  background: linear-gradient(180deg, rgba(14,165,233,.90), rgba(14,165,233,.72));
  color: white;
}

.icon-btn{
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.65);
  cursor: pointer;
}
.icon-btn:focus{ outline: 3px solid var(--focus); outline-offset: 2px; }

.input,.select{
  width: 100%;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid var(--stroke-strong);
  background: rgba(255,255,255,.75);
  color: var(--text);
  font-size: 15px;
}
.input:focus,.select:focus{
  outline: 3px solid var(--focus);
  border-color: rgba(14,165,233,.35);
}

.pill{
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 12.5px;
  font-weight: 800;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.55);
}
.pill-active{
  background: rgba(34,197,94,.18);
  border-color: rgba(34,197,94,.25);
  color: rgba(12, 117, 56, 1);
}
.pill-muted{
  background: rgba(148,163,184,.22);
  border-color: rgba(148,163,184,.25);
  color: rgba(30,41,59,.85);
}

/* Hero */
.hero{ padding: 20px; }
.hero-kicker{ font-size: 13px; color: var(--muted); font-weight: 700; letter-spacing:.2px; }
.hero-title{ margin: 8px 0 10px; font-size: 34px; line-height: 1.15; letter-spacing: -0.4px; }
.hero-sub{ margin: 0 0 14px; color: var(--muted); line-height: 1.55; }
.hero-actions{ display:flex; flex-wrap:wrap; gap: 10px; margin-bottom: 12px; }

.steps{ display:flex; gap: 10px; flex-wrap:wrap; }
.step{ display:flex; align-items:center; gap: 8px; padding: 10px 12px; border-radius: 999px; background: rgba(255,255,255,.55); border:1px solid var(--stroke); }
.step-badge{
  width: 22px; height: 22px;
  display:grid; place-items:center;
  border-radius: 999px;
  background: rgba(14,165,233,.18);
  border:1px solid rgba(14,165,233,.25);
  font-weight: 900;
}

/* Section */
.section{ }
.section-head{ display:flex; align-items:flex-end; justify-content:space-between; gap: 10px; margin-bottom: 12px; }
.section-title{ font-weight: 900; font-size: 18px; margin-bottom: 6px; }

/* Filters */
.filters{
  display:grid;
  grid-template-columns: 1fr;
  gap: 10px;
  margin: 12px 0 16px;
}
@media (min-width: 720px){
  .filters{
    grid-template-columns: 1.4fr .8fr .8fr auto;
    align-items:center;
  }
}

/* Key list */
.key-list{ display:grid; gap: 12px; }
.key-item{
  display:block;
  padding: 14px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.62);
  box-shadow: 0 10px 26px rgba(2,6,23,.08);
}
.key-item:hover{ transform: translateY(-1px); }
.key-top{ display:flex; align-items:center; justify-content:space-between; gap: 10px; }
.key-type{ font-weight: 950; letter-spacing:.2px; }
.key-region{ display:flex; align-items:center; gap: 8px; margin-top: 10px; font-size: 18px; font-weight: 850; }
.flag{ width: 28px; display:inline-block; }
.key-meta{ margin-top: 6px; color: var(--muted); display:flex; gap: 8px; align-items:center; }
.dot{ opacity:.7; }
.key-open{ margin-top: 10px; color: rgba(14,165,233,.95); font-weight: 800; }

/* Detail */
.detail-head{ display:flex; align-items:center; justify-content:space-between; gap: 10px; margin-bottom: 12px; }
.detail-title{ font-size: 22px; font-weight: 950; margin-top: 4px; }
.detail-region{ display:flex; align-items:center; gap: 10px; font-size: 18px; font-weight: 850; margin-top: 6px; }

.keybox{ margin-top: 14px; }
.keybox-label{ font-weight: 900; margin-bottom: 8px; }
.keybox-row{ display:flex; gap: 10px; align-items:center; }
.key-input{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

.apps{ display:grid; gap: 10px; margin-top: 10px; }
.app-link{
  position:relative;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.62);
}
.app-name{ font-weight: 900; }
.app-arrow{ position:absolute; right: 12px; top: 12px; opacity:.75; }

.howto{ margin: 10px 0 0; padding-left: 18px; color: var(--muted); }
.bottom-actions{ display:flex; gap: 10px; flex-wrap:wrap; margin-top: 12px; }

.empty{ padding: 16px; border-radius: 16px; border:1px dashed var(--stroke-strong); background: rgba(255,255,255,.55); }
.empty-title{ font-weight: 950; margin-bottom: 6px; }

/* Alerts */
.alert{ padding: 12px 14px; border-radius: 16px; border:1px solid var(--stroke); }
.alert-danger{ border-color: rgba(239,68,68,.25); background: rgba(239,68,68,.10); color: rgba(127,29,29,1); }

/* Modal */
.modal{
  position: fixed;
  inset: 0;
  display: none;
  z-index: 90;
}
.modal.is-open{ display:block; }
.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(2, 6, 23, .40);
  backdrop-filter: blur(6px);
}
.modal-card{
  position: relative;
  width: min(720px, calc(100% - 24px));
  margin: 12vh auto 0;
  background: var(--card-strong);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--stroke);
}
.modal-title{ font-weight: 950; }
.modal-body{ padding: 16px; color: var(--text); }
.modal-foot{
  padding: 14px 16px;
  border-top: 1px solid var(--stroke);
  display:flex;
  justify-content:flex-end;
}
html.modal-open{ overflow: hidden; }

/* Rich content inside announcement */
.rich a{ color: rgba(14,165,233,.95); text-decoration: underline; }
.rich img{ border-radius: 14px; border: 1px solid var(--stroke); }
.rich p{ margin: 0 0 10px; }
